<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>{title}</title>
  <style>
    body {
      background: linear-gradient(120deg, #232526 0%, #0b0f14 100%);
      color: #eaeaea;
      font-family: 'Fira Mono', 'Menlo', 'Monaco', 'Consolas', monospace;
      margin: 0;
      padding: 0;
      font-size: 13px;
    }
    .log {
      padding: 1.2rem 2.2rem 2rem 2.2rem;
      max-width: 100vw;
      margin-left: 300px;
      background: rgba(20, 24, 32, 0.98);
      border-radius: 0 0 0 0;
      min-height: 100vh;
      box-sizing: border-box;
    }
    .stdout, .stderr, .ansi-cursor {
      position: relative;
      margin: 0.7em 0;
      border-radius: 8px;
      box-shadow: 0 2px 12px rgba(0,0,0,0.10);
      background: #161b22;
      overflow: visible;
      transition: box-shadow 0.2s;
    }
    .stdout::before, .stderr::before, .ansi-cursor::before {
      content: "";
      position: absolute;
      top: 0; left: -8px; bottom: 0;
      width: 12px;
      border-radius: 8px 0 0 8px;
      background: linear-gradient(270deg, rgba(88,166,255,0.08) 0%, rgba(88,166,255,0.18) 100%);
      pointer-events: none;
      box-shadow: -2px 0 12px rgba(88,166,255,0.10);
    }
    .stderr {
      background: #2d1a1a;
    }
    .stderr::before {
      background: linear-gradient(270deg, rgba(255,123,114,0.10) 0%, rgba(255,123,114,0.22) 100%);
      box-shadow: -2px 0 12px rgba(255,123,114,0.13);
    }
    .stdout pre, .stderr pre, .ansi-cursor pre {
      white-space: pre-wrap;
      margin: 0;
      font-family: inherit;
      font-size: 1em;
      background: none;
      border-radius: 0;
      padding: 0.7em 1.2em 0.7em 1em;
      box-shadow: none;
    }
    h1 {
      font-size: 1.35em;
      margin-top: 2em;
      margin-bottom: 0.5em;
      color: #58a6ff;
      border-bottom: 1px solid #30363d;
      padding-bottom: 0.1em;
      font-weight: 600;
      letter-spacing: 0.01em;
    }
    h2 {
      font-size: 1.08em;
      margin-top: 1.2em;
      margin-bottom: 0.4em;
      color: #79c0ff;
      font-weight: 500;
    }
    table {
      border-collapse: collapse;
      margin: 1em 0;
      width: 100%;
      background: #161b22;
      border-radius: 6px;
      overflow: hidden;
      box-shadow: 0 2px 8px rgba(0,0,0,0.10);
      font-size: 0.98em;
    }
    th, td {
      border: 1px solid #30363d;
      padding: 0.35em 0.8em;
      text-align: left;
    }
    th {
      background: #21262d;
      color: #58a6ff;
      font-weight: 600;
    }
    .toc {
      position: fixed;
      left: 0;
      top: 0;
      bottom: 0;
      width: 260px;
      overflow-y: auto;
      background: #061118;
      padding: 1.5rem 1rem 1rem 1.2rem;
      border-right: 2px solid #0f1720;
      box-shadow: 2px 0 12px rgba(0,0,0,0.15);
      z-index: 10;
      font-size: 13px;
    }
    .toc h3 {
      color: #58a6ff;
      margin: 0.5em 0 0.2em 0;
      font-size: 1em;
      font-weight: 600;
      letter-spacing: 0.02em;
    }
    .toc ul {
      list-style: none;
      padding: 0;
      margin: 0 0 1em 0;
    }
    .toc li {
      margin: 0.18em 0;
      padding-left: 0.5em;
    }
    .toc a {
      color: #79c0ff;
      text-decoration: none;
      transition: color 0.2s;
      font-size: 1em;
    }
    .toc a:hover {
      color: #ff7b72;
      text-decoration: underline;
    }
    @media (max-width: 900px) {
      .log { margin-left: 0; padding: 1rem; }
      .toc { position: static; width: 100%; border-right: none; box-shadow: none; padding: 1rem; }
    }
  </style>
  <script>
    function buildTOC() {
      const toc = document.getElementById('logtee-toc');
      if (!toc) return;
      toc.innerHTML = '';
      const sections = Array.from(document.querySelectorAll('h1'));
      const ul = document.createElement('ul');
      sections.forEach(s => {
        const li = document.createElement('li');
        const a = document.createElement('a');
        a.href = '#' + s.id;
        a.textContent = s.textContent;
        li.appendChild(a);
        ul.appendChild(li);
        // Find anchors for this section
        const anchors = Array.from(s.parentElement.querySelectorAll('h2'))
          .filter(a => a.dataset.section === s.id);
        if (anchors.length) {
          const subul = document.createElement('ul');
          anchors.forEach(a2 => {
            const subli = document.createElement('li');
            const suba = document.createElement('a');
            suba.href = '#' + a2.id;
            suba.textContent = a2.textContent;
            subli.appendChild(suba);
            subul.appendChild(subli);
          });
          li.appendChild(subul);
        }
      });
      toc.appendChild(ul);
    }
    window.addEventListener('load', buildTOC);
  </script>
</head>
<body>
  <div class="toc" id="logtee-toc"></div>
  <div class="log" id="logtee-log">
  <!-- INSERT_LOG -->
  <!-- LOGTEEHTML_FOOTER -->
  <!-- FOOTER_BEGIN -->
  </div>
</body>
</html>
